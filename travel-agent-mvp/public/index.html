<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>여행 에이전트 MVP</title>
  <style>
    body{font-family:system-ui,Roboto,AppleSDGothicNeo,Segoe UI,Arial; margin:0;}
    header{padding:16px 24px; border-bottom:1px solid #eee; display:flex; gap:12px; align-items:center; justify-content:space-between}
    .grid{display:grid; grid-template-columns:repeat(auto-fit,minmax(280px,1fr)); gap:12px; padding:16px}
    .card{border:1px solid #e5e7eb; border-radius:14px; padding:14px; background:#fff}
    .pill{font-size:12px; padding:2px 8px; border-radius:999px; border:1px solid #e5e7eb}
    .tab{display:inline-flex; gap:6px; font-size:14px; margin-right:8px; cursor:pointer}
    .row{display:flex; gap:8px; align-items:center; flex-wrap:wrap}
    button{padding:10px 14px; border-radius:10px; border:1px solid #e5e7eb; background:white; cursor:pointer}
    button.primary{background:black;color:white}
    input,select,textarea{padding:10px;border-radius:10px;border:1px solid #e5e7eb; width:100%;}
    .results{padding:16px}
    .hidden{display:none}
    .picks{display:grid; grid-template-columns:repeat(auto-fit,minmax(260px,1fr)); gap:12px; padding:0 16px 16px}
    .total{font-weight:700}
  </style>
</head>
<body>
  <header>
    <div class="row">
      <strong>✈️🛏️ 여행 에이전트 MVP</strong>
      <span class="pill">최저가</span>
      <span class="pill">최단시간</span>
      <span class="pill">최저환승</span>
    </div>
    <div class="row" style="max-width:640px; width:100%">
      <textarea id="nl" placeholder="자연어로 입력: 10월29~11월2 도쿄 2명, 직항 위주, 호텔 1룸" rows="2"></textarea>
      <button class="primary" id="btnParseNL">분석하고 검색</button>
    </div>
  </header>

  <section class="grid" id="searchForm">
    <div class="card">
      <h3>항공</h3>
      <div class="row"><input id="from" placeholder="출발지 (ICN)" value="ICN"/><input id="to" placeholder="도착지 (NRT/HND)" value="NRT"/></div>
      <div class="row"><input id="depart" type="date"/><input id="return" type="date"/></div>
      <div class="row"><select id="adults"><option value="1">성인 1</option><option value="2" selected>성인 2</option><option value="3">성인 3</option></select><select id="nonstop"><option value="any">환승 무관</option><option value="true" selected>직항 우선</option></select></div>
      <button class="primary" id="btnSearchFlights">항공 검색</button>
    </div>

    <div class="card">
      <h3>호텔</h3>
      <div class="row"><input id="city" placeholder="도시 (Tokyo)" value="Tokyo"/></div>
      <div class="row"><input id="checkin" type="date"/><input id="checkout" type="date"/></div>
      <div class="row"><select id="rooms"><option value="1" selected>객실 1</option><option value="2">객실 2</option></select><select id="pax"><option value="2" selected>투숙 2</option><option value="3">투숙 3</option><option value="4">투숙 4</option></select></div>
      <button class="primary" id="btnSearchHotels">호텔 검색</button>
    </div>

    <div class="card">
      <h3>장바구니 · 모의 결제</h3>
      <div id="cartSummary">선택된 항공/호텔이 없습니다.</div>
      <div class="row"><button id="btnMockPay" disabled>모의 결제</button></div>
      <div id="payResult" class="hidden"></div>
    </div>
  </section>

  <section class="results">
    <h3 style="padding:0 16px">항공 Top 3 픽</h3>
    <div class="picks">
      <div id="pickPrice" class="card">최저가 결과가 여기에 표시됩니다.</div>
      <div id="pickDuration" class="card">최단시간 결과가 여기에 표시됩니다.</div>
      <div id="pickTransfers" class="card">최저환승 결과가 여기에 표시됩니다.</div>
    </div>

    <div class="row" style="padding:0 16px">
      <div class="tab" data-sort="price">전체 보기: 최저가</div>
      <div class="tab" data-sort="duration">전체 보기: 최단시간</div>
      <div class="tab" data-sort="transfers">전체 보기: 최저환승</div>
    </div>
    <div id="flightResults" class="grid"></div>
    <hr/>
    <h3 style="padding:0 16px">호텔 결과</h3>
    <div id="hotelResults" class="grid"></div>
  </section>

  <script src="./app.js"></script>
  <script src="./nl.js"></script>
</body>
</html>
